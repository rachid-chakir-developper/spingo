<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Tableau de bord
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="dashboard">


  <ion-card class="welcome-card">
      <ion-img src="/assets/img/header.png"></ion-img>
      <ion-card-header>
        <ion-card-subtitle>Par où commencer ?</ion-card-subtitle>
        <ion-card-title>Bienvenue sur Spingo</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p>SpingGo Rent Car est votre solution de gestion de votre location de voiture. Avec ses interfaces simples et intiutifs, la gestion de votre parcs automobile et vos réservations deviendra un jeu d'enfants.</p>
      </ion-card-content>
    </ion-card>
    <ion-list lines="none" mode="ios">
      <ion-list-header mode="ios">
        <ion-label mode="ios">Liens rapides</ion-label>
      </ion-list-header>
      <ion-item routerLink="/app/tabs/dashboard/vehicules" mode="ios">
        <ion-icon slot="start" color="medium" name="car"></ion-icon>
        <ion-label>Gestion du parc</ion-label>
      </ion-item>
      <ion-item routerLink="/app/tabs/dashboard/clients" mode="ios">
        <ion-icon slot="start" color="medium" name="people"></ion-icon>
        <ion-label>Gestion clients</ion-label>
      </ion-item>
      <ion-item  routerLink="/app/tabs/dashboard/contravention" mode="ios">
        <ion-icon slot="start" color="medium" name="hand"></ion-icon>
        <ion-label>Contraventions</ion-label>
      </ion-item>
    </ion-list>

    <ion-card class="resa" *ngIf="countRecette !== 1 && countCharge !== 1">
        <ion-list mode="ios">
            <ion-list-header mode="ios">
              <ion-label><h1>Recettes / Dépenses {{month}} {{year}}</h1></ion-label>
            </ion-list-header>
            <div id="pie-chart-div"></div>
          </ion-list>
        
    </ion-card>

    <ion-item>
        <ion-label>Recettes</ion-label>
        <ion-badge slot="end" color="primary">{{countRecette | currency:'MAD':''}} MAD</ion-badge>
      </ion-item>
      <ion-item>
          <ion-label>Dépenses</ion-label>
          <ion-badge slot="end" color="danger">{{countCharge | currency:'MAD':''}} MAD</ion-badge>
        </ion-item>
        <ion-item>
            <ion-label>Réservations</ion-label>
            <ion-badge slot="end" color="secondary">{{countReservation}} </ion-badge>
          </ion-item>
          <ion-item>
              <ion-label>Clients</ion-label>
              <ion-badge slot="end" color="tertiary">{{countClient}}</ion-badge>
            </ion-item>

    <ion-card class="resa">
    <ion-list mode="ios" *ngIf="prochainesRecuperations && prochainesRecuperations.length">
        <ion-list-header mode="ios">
          <ion-label><h1>Prochaine(s) récupération(s)</h1></ion-label>
        </ion-list-header>
        <ion-item mode="ios" *ngFor="let recup of prochainesRecuperations" routerLink="/app/tabs/reservations/show/{{recup.id}}">
            <ion-label>
          <h2 *ngIf="recup.vehicule">{{recup.vehicule.designation}} ({{recup.vehicule.matricule}})</h2>
          <h2 *ngIf="recup.partenaire">Sous location ({{recup.partenaire.nom}})</h2>
          <h4>{{recup.client.prenom}} {{recup.client.nom}}</h4>
          <h5>{{recup.dateAu }}</h5>
          </ion-label>
        </ion-item>
      </ion-list>
</ion-card>




<ion-card class="resa">
    <ion-list mode="ios" *ngIf="prochainesReservations && prochainesReservations.length">
        <ion-list-header mode="ios">
          <ion-label><h1>Prochaine(s) réservation(s)</h1></ion-label>
        </ion-list-header>
        <ion-item *ngFor="let resa of prochainesReservations" routerLink="/app/tabs/reservations/show/{{resa.id}}" mode="ios">
            <ion-label>
          <h2 *ngIf="resa.vehicule">{{resa.vehicule.designation}} ({{resa.vehicule.matricule}})</h2>
          <h2 *ngIf="resa.partenaire">Sous location ({{resa.partenaire.nom}})</h2>
          <h4>{{resa.client.prenom}} {{resa.client.nom}}</h4>
          <h5>{{resa.dateAu }}</h5>
          </ion-label>
        </ion-item>
      </ion-list>
</ion-card>






</ion-content>
